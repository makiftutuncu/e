
[//]: # "This file is generated by [mdoc](https://scalameta.org/mdoc). Do not edit it directly as it will be overwritten. Instead edit corresponding file in docs folder."

# e-circe

This module contains [`CodecForCirceJson`](src/main/scala/e/circe/CodecForCirceJson.scala) as a `Codec` implementation of `E` using [circe](https://circe.github.io/circe).

```scala mdoc:reset:to-string
import e.scala._
import e.circe._
import io.circe._
import e.scala.implicits._
import e.circe.implicits._
import io.circe.syntax._

val e1 = E.empty

val e2 = E("test-name", "Test Message", 1, Some(new Exception("Test Exception")), Map("test" -> "data"))

/**********************/
/* Encoding E as Json */
/**********************/

CodecForCirceJson.encode(e1).noSpaces

CodecForCirceJson.encode(e2).noSpaces

/**********************/
/* Decoding Json as E */
/**********************/

CodecForCirceJson.decode(Json.arr(1.asJson, 2.asJson))

CodecForCirceJson.decode(
  Json.obj(
    "name"    := "test-name",
    "message" := "Test Message",
    "code"    := 1,
    "cause"   := "Test Exception",
    "data"    := Map("test" -> "data")
  )
)

/**************************/
/* Decoding Json as Maybe */
/**************************/

Json.obj("foo" := "bar").decodeMaybe[List[String]] { df =>
  E(message = df.getMessage)
}

/**************************/
/* Decoding Json as Either */
/**************************/

CodecForCirceJson.decodeEither(Json.arr(1.asJson, 2.asJson))

CodecForCirceJson.decodeEither(
  Json.obj(
    "name"    := "test-name",
    "message" := "Test Message",
    "code"    := 1,
    "cause"   := "Test Exception",
    "data"    := Map("test" -> "data")
  )
)

/*************************************/
/* Using circe's Encoder and Decoder */
/*************************************/

e1.asJson.noSpaces

e2.asJson.noSpaces

e2.toMaybe[String].asJson.noSpaces

Map("test" -> "data").toMaybe.asJson.noSpaces

Json.arr(1.asJson, 2.asJson).as[E]

Json.obj(
  "name"    := "test-name",
  "message" := "Test Message",
  "code"    := 1,
  "cause"   := "Test Exception",
  "data"    := Map("test" -> "data")
).as[E]

``` 
