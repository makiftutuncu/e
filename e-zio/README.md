[//]: # "This file is generated by [mdoc](https://scalameta.org/mdoc). Do not edit it directly as it will be overwritten. Instead edit corresponding file in docs folder."

# e-zio [![](https://img.shields.io/badge/docs-2.0.2-brightgreen.svg?style=for-the-badge&logo=scala&color=dc322f&labelColor=333333)](https://javadoc.io/doc/dev.akif/e-zio_2.13)

This module provides aliases `EIO` and `REIO` for [ZIO](https://zio.dev). They fix the `E` type parameter of `ZIO[R, E, A]` to [E](/e-scala/src/main/scala/e/scala/E.scala) so you can use all ZIO and e goodness together.

## Installation

If you use SBT, add following to your `build.sbt`:

```scala
libraryDependencies += "dev.akif" %% "e-zio" % "2.0.2"
```
If you use Maven, add following to your `pom.xml` (replace 2.13 if you need a different Scala version):

```xml
<dependencies>
  <dependency>
    <groupId>dev.akif</groupId>
    <artifactId>e-zio_2.13</artifactId>
    <version>2.0.2</version>
  </dependency>
</dependencies>
```
If you use Gradle, add following to your project's `build.gradle` (replace 2.13 if you need a different Scala version):

```javascript
dependencies {
  implementation('dev.akif:e-zio_2.13:2.0.2')
}
```

## Contents

Below are some details and examples of e-zio's content. For more, please check corresponding automated tests and e-zio's documentation.

To get started, add following import which will cover all your needs:

```scala
import e.ezio._
```

### 1. EIO

```scala
import e.ezio._
import e.scala._

// From E
E.name("test-error").message("Test").toEIO[String]
// res1: EIO[String] = OnSuccess(e.ezio.EExtensionsForEIO.toEIO(ezio.scala:44),GenerateStackTrace(e.ezio.EExtensionsForEIO.toEIO(ezio.scala:44)),zio.ZIO$$$Lambda$14047/0x000000080367f138@152c1a0c)

// From value
42.toEIO
// res2: EIO[Int] = Sync(e.ezio.ValueExtensionsForEIO.toEIO(ezio.scala:63),e.ezio$ValueExtensionsForEIO$$Lambda$14048/0x000000080367f8e0@236ed9b)

// From failed EOr
E.code(1).toEOr[String].toEIO
// res3: EIO[String] = OnSuccess(e.ezio.EOrExtensionsForEIO.toEIO(ezio.scala:81),GenerateStackTrace(e.ezio.EOrExtensionsForEIO.toEIO(ezio.scala:81)),zio.ZIO$$$Lambda$14047/0x000000080367f138@368f1932)

// From successful EOr
"test".toEOr.toEIO
// res4: EIO[String] = Sync(e.ezio.EOrExtensionsForEIO.toEIO(ezio.scala:81),e.ezio$EOrExtensionsForEIO$$Lambda$14052/0x0000000803681028@1fb9e179)

def divide(a: Int, b: Int): EIO[Int] =
  if (b == 0) {
    E.name("divideError").message("Cannot divide by 0!").data("input", a.toString).toEIO[Int]
  } else {
    (a / b).toEIO
  }

divide(4, 2)
// res5: EIO[Int] = Sync(e.ezio.ValueExtensionsForEIO.toEIO(ezio.scala:63),e.ezio$ValueExtensionsForEIO$$Lambda$14048/0x000000080367f8e0@26f9a838)

divide(4, 0)
// res6: EIO[Int] = OnSuccess(e.ezio.EExtensionsForEIO.toEIO(ezio.scala:44),GenerateStackTrace(e.ezio.EExtensionsForEIO.toEIO(ezio.scala:44)),zio.ZIO$$$Lambda$14047/0x000000080367f138@688f4944)
```

### 2. REIO

```scala
import e.ezio._
import e.scala._
import zio._

// From E
E.name("test-error").message("Test").toREIO[Boolean, String]
// res8: REIO[Boolean, String] = OnSuccess(e.ezio.EExtensionsForEIO.toREIO(ezio.scala:54),GenerateStackTrace(e.ezio.EExtensionsForEIO.toREIO(ezio.scala:54)),zio.ZIO$$$Lambda$14047/0x000000080367f138@3609f664)

// From value
42.toREIO[String]
// res9: REIO[String, Int] = Sync(e.ezio.ValueExtensionsForEIO.toREIO(ezio.scala:72),e.ezio$ValueExtensionsForEIO$$Lambda$14054/0x0000000803681578@51f1173a)

// From failed EOr
E.code(1).toEOr[String].toREIO[Long]
// res10: REIO[Long, String] = OnSuccess(e.ezio.EOrExtensionsForEIO.toREIO(ezio.scala:90),GenerateStackTrace(e.ezio.EOrExtensionsForEIO.toREIO(ezio.scala:90)),zio.ZIO$$$Lambda$14047/0x000000080367f138@73dd2bfd)

// From successful EOr
"test".toEOr.toREIO[String]
// res11: REIO[String, String] = Sync(e.ezio.EOrExtensionsForEIO.toREIO(ezio.scala:90),e.ezio$EOrExtensionsForEIO$$Lambda$14058/0x0000000803682228@198ffeaa)

class Divider {
  def divide(a: Int, b: Int): EIO[Int] =
    if (b == 0) {
      E.name("divideError").message("Cannot divide by 0!").data("input", a.toString).toEIO[Int]
    } else {
      (a / b).toEIO
    }
}

val divider: Divider = new Divider
// divider: Divider = repl.MdocSession$App7$Divider@397bca5

def divide(a: Int, b: Int): REIO[Divider, Int] = REIO.serviceWithZIO[Divider](_.divide(a, b))

divide(4, 2).provide(ZLayer.succeed(divider))
// res12: ZIO[Any, E, Int] = Dynamic(repl.MdocSession.App7.res12(README.md:86),1,zio.ZIO$$$Lambda$14069/0x000000080368f2c8@4786cd8c)

divide(4, 0).provide(ZLayer.succeed(divider))
// res13: ZIO[Any, E, Int] = Dynamic(repl.MdocSession.App7.res13(README.md:89),1,zio.ZIO$$$Lambda$14069/0x000000080368f2c8@40816dc4)
```
