[//]: # "This file is generated by [mdoc](https://scalameta.org/mdoc). Do not edit it directly as it will be overwritten. Instead edit corresponding file in docs folder."

# e-zio [![](https://img.shields.io/badge/docs-3.0.0-brightgreen.svg?style=for-the-badge&logo=scala&color=dc322f&labelColor=333333)](https://javadoc.io/doc/dev.akif/e-zio_3)

This module provides aliases `EIO` and `REIO` for [ZIO](https://zio.dev). They fix the `E` type parameter of `ZIO[R, E, A]` to [E](/e-scala/src/main/scala/e/scala/E.scala) so you can use all ZIO and e goodness together.

## Installation

If you use SBT, add following to your `build.sbt`:

```scala
libraryDependencies += "dev.akif" %% "e-zio" % "3.0.0"
```

If you use Maven, add following to your `pom.xml`:

```xml
<dependencies>
  <dependency>
    <groupId>dev.akif</groupId>
    <artifactId>e-zio_3</artifactId>
    <version>3.0.0</version>
  </dependency>
</dependencies>
```

If you use Gradle, add following to your project's `build.gradle`:

```javascript
dependencies {
  implementation('dev.akif:e-zio_3:3.0.0')
}
```

## Contents

Below are some details and examples of e-zio's content. For more, please check corresponding automated tests and e-zio's documentation.

To get started, add following import which will cover all your needs:

```scala
import e.ezio.*
```

### 1. EIO

```scala
import e.ezio.*
import e.scala.*

// From E
E.name("test-error").message("Test").toEIO[String]
// res1: ZIO[Any, E, String] = OnSuccess(repl.MdocSession.MdocApp0.res1(README.md:19),GenerateStackTrace(repl.MdocSession.MdocApp0.res1(README.md:19)),zio.ZIO$$$Lambda/0x000001fe03daccb0@92a1cbf)

// From value
42.toEIO
// res2: ZIO[Any, E, Int] = Sync(repl.MdocSession.MdocApp0.res2(README.md:24),zio.ZIOCompanionVersionSpecific$$Lambda/0x000001fe03d9f118@34db8c4d)

// From failed EOr
E.code(1).toEOr[String].toEIO
// res3: ZIO[Any, E, String] = OnSuccess(repl.MdocSession.MdocApp0.res3(README.md:29),GenerateStackTrace(repl.MdocSession.MdocApp0.res3(README.md:29)),zio.ZIO$$$Lambda/0x000001fe03daccb0@2b0003be)

// From successful EOr
"test".toEOr.toEIO
// res4: ZIO[Any, E, String] = Sync(repl.MdocSession.MdocApp0.res4(README.md:34),zio.ZIOCompanionVersionSpecific$$Lambda/0x000001fe03d9f118@49c1c56f)

def divide(a: Int, b: Int): EIO[Int] =
  if b == 0 then E.name("divideError").message("Cannot divide by 0!").data("input", a.toString).toEIO[Int]
  else (a / b).toEIO

divide(4, 2)
// res5: ZIO[Any, E, Int] = Sync(repl.MdocSession.MdocApp0.divide(README.md:40),zio.ZIOCompanionVersionSpecific$$Lambda/0x000001fe03d9f118@10d7e70c)

divide(4, 0)
// res6: ZIO[Any, E, Int] = OnSuccess(repl.MdocSession.MdocApp0.divide(README.md:39),GenerateStackTrace(repl.MdocSession.MdocApp0.divide(README.md:39)),zio.ZIO$$$Lambda/0x000001fe03daccb0@7886a8bf)
```

### 2. REIO

```scala
import e.ezio.*
import e.scala.*
import zio.*

// From E
E.name("test-error").message("Test").toREIO[Boolean, String]
// res8: ZIO[Boolean, E, String] = OnSuccess(repl.MdocSession.MdocApp7.res8(README.md:70),GenerateStackTrace(repl.MdocSession.MdocApp7.res8(README.md:70)),zio.ZIO$$$Lambda/0x000001fe03daccb0@53b049e2)

// From value
42.toREIO[String]
// res9: ZIO[String, E, Int] = Sync(repl.MdocSession.MdocApp7.res9(README.md:75),zio.ZIOCompanionVersionSpecific$$Lambda/0x000001fe03d9f118@141d1446)

// From failed EOr
E.code(1).toEOr[String].toREIO[Long]
// res10: ZIO[Long, E, String] = OnSuccess(repl.MdocSession.MdocApp7.res10(README.md:80),GenerateStackTrace(repl.MdocSession.MdocApp7.res10(README.md:80)),zio.ZIO$$$Lambda/0x000001fe03daccb0@3bdd7e4e)

// From successful EOr
"test".toEOr.toREIO[String]
// res11: ZIO[String, E, String] = Sync(repl.MdocSession.MdocApp7.res11(README.md:85),zio.ZIOCompanionVersionSpecific$$Lambda/0x000001fe03d9f118@7653eada)

class Divider:
  def divide(a: Int, b: Int): EIO[Int] =
      if b == 0 then E.name("divideError").message("Cannot divide by 0!").data("input", a.toString).toEIO[Int]
      else (a / b).toEIO

val divider: Divider = new Divider
// divider: Divider = repl.MdocSession$MdocApp7$Divider@277d42ab

def divide(a: Int, b: Int): REIO[Divider, Int] = REIO.serviceWithZIO[Divider](_.divide(a, b))

divide(4, 2).provide(ZLayer.succeed(divider))
// res12: ZIO[Any, E, Int] = OnSuccess(repl.MdocSession.MdocApp7.res12(README.md:103),OnSuccess(repl.MdocSession.MdocApp7.res12(README.md:103),Sync(repl.MdocSession.MdocApp7.res12(README.md:103),zio.ZIOCompanionVersionSpecific$$Lambda/0x000001fe03d9f118@5b3ecd26),zio.ZIO$$Lambda/0x000001fe03db9d68@bc1e701),zio.ZIO$$$Lambda/0x000001fe03dba130@622dc999)

divide(4, 0).provide(ZLayer.succeed(divider))
// res13: ZIO[Any, E, Int] = OnSuccess(repl.MdocSession.MdocApp7.res13(README.md:108),OnSuccess(repl.MdocSession.MdocApp7.res13(README.md:108),Sync(repl.MdocSession.MdocApp7.res13(README.md:108),zio.ZIOCompanionVersionSpecific$$Lambda/0x000001fe03d9f118@2f08b76d),zio.ZIO$$Lambda/0x000001fe03db9d68@2f21857),zio.ZIO$$$Lambda/0x000001fe03dba130@68f1ee7)
```
